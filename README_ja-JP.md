[English](README.md) , [Simplified Chinese](README_zh-CN.md) ,[Japanese](README_ja-JP.md)

# SmartGit のローカライゼーション - SmartGit翻訳ファイル

このリポジトリには、Git クライアント SmartGit 用の翻訳ファイルが含まれています。:

https://www.syntevo.com/smartgit/download/

# SmartGitのローカライゼーションはどのように機能するのですか？

SmartGitは、ソースコード内にさまざまなUIテキスト（'文字列'）を直接含んでいます。これらの文字列の多くは動的に構成されています。主要なUIコンポーネントには、翻訳をマッピングファイルから検索するために割り当てられたキーがあります。ルートにある`mapping`ファイル（'マスターマッピング'）には、現在の既知のすべてのキーと、その英語の元のテキストが含まれています。
現在サポートされているすべてのロケールに対して、適切な翻訳済または未翻訳のキーや新しい翻訳が必要なキーに関するコメントが含まれた`mapping.dev`ファイルが対応するサブディレクトリにあります。補助的な`mapping.state`ファイルもあります。

マスターマッピングは、定期的にSmartGitソースから私たちによって更新されます。 `mapping.dev`と`mapping.state`は主に貢献者によって更新され、私たちによってSmartGitソースに同期されます。

SmartGitバージョンごとに、`smartgit-22.1`のような別のブランチがあります。

# どのように貢献しますか？

SmartGit のローカライゼーションには2つの方法で貢献できます：

* **翻訳を手伝う**：`mapping.dev` 言語マッピングに追加/改善の翻訳を行う
* **収集を手伝う**：未知のキーを収集してマスターマッピングを作成する

## 準備

いずれの場合も、このリポジトリをフォークしてクローンし、正しいブランチにいることを確認する必要があります：

1. SmartGit の最新リリース版または現在のプレビュー版を使用すること
1. リポジトリをフォークする
1. フォークをクローンする（例：`c:\temp\smartgit-translations.git`）
1. 適切なブランチをチェックアウトする：
   1. `master` は現在のプレビュー版の翻訳を含んでいます
   1. `smartgit-...` は対応するSmartGitバージョンの翻訳を含んでいます

> **注意！** これら2つのバージョンのプルリクエストのみを送信してください。

## 翻訳を手伝う

新しい翻訳は歓迎します！ 貢献するには、以下の手順を実行します：

1. 上記の手順に従って準備を行います。
1. 進行中のプルリクエストを確認して、現在どの翻訳が進行中かを確認します。
1. `mapping.dev` を使用して、翻訳したいテキストを決定します。
   翻訳が必要なキーの場合、`mapping.dev` には特別なコメント行（`#`）がキー行の直下に`!=`マーカーが付いています。
   `!=`マーカーの後のテキストはマスターマッピングから取得され、翻訳が英語の元のテキストを反映する必要があります。

   例えば、まだ翻訳が存在しない場合は、次のようになります：

   ```
   dlgProgress.lbl"Please wait ..."=
   #                              !=Please wait ...
   ```

   すでに翻訳されている箇所で、英語の原文が変更されている場合、次のようになります。:

   ```
   dlgProgress.lbl"Please wait ..."=少しの間おまちください...
   #                              !=Please wait ...
   ```

1. `mapping.dev` ファイル内で、適切な翻訳を適用し、コメント行を削除します。
   上記の例の場合、次のようになります：
   ```
   dlgProgress.lbl"Please wait ..."=しばらくお待ちください...
   ```
1. `mapping.state` ファイル内で、翻訳したキーを見つけて、英語の元のテキストを更新/設定します。
   これは、マスターマッピング内に存在し、`!=`-コメント内にある同じ英語テキストと一致する必要があります。
   上記の例の場合、次のようになります：
   ```
   dlgProgress.lbl"Please wait ..."=Please wait ...
   ```
1. 両方のファイルを含む単一のコミットを行います
   1. コミットメッセージに `Japanese translation updated: ` (または適切な言語名) をプレフィックスします
1. `Japanese translation update: ` プレフィックス (または適切な言語名) でプルリクエストを送信します

> **注意！** プルリクエストに関係のないフォーマット変更（改行など）や、キーの並び替えなどの不要な変更が含まれていないことを確認してください（キーは私たちによって自動的にソートされます）。

### 構文の詳細

特定のテキストの翻訳が元の英語テキストと同じになるようにする場合は、テキストの前に`=`を付けます。 例：

> *.btn"OK"==OK

## 収集を手伝う

SmartGitのテキストを動的に生成するため、マスターマッピングにはすべてのキーが含まれていない場合があります。しかし、私たちと貢献者が「収集」したすべての現在既知のキーのみが含まれています。キーを収集するのを助けるために：

1. 上記で説明した準備を行う
1. SmartGitが実行されていないことを確認する（リポジトリ|終了）
1. SmartGitの設定ディレクトリ（Aboutダイアログを参照）にある`smartgit.properties`を見つけて、以下の行を追加します。
   ```
   smartgit.i18n=<locale>
   smartgit.debug.i18n.development=<path-to-localization-directory>
   smartgit.debug.i18n.master=<path-to-master-mapping>
   ```
   上記の例のディレクトリと日本語ロケールの場合、次のようになります。
   ```
   smartgit.i18n=ja_JP
   smartgit.debug.i18n.development=C\:/temp/smartgit-translations.git/ja-JP
   smartgit.debug.i18n.master=C\:/temp/smartgit-translations.git/mapping
   ```
1. SmartGitを再起動する
1. SmartGitは指定された`development`ディレクトリにいくつかの新しいファイルを作成します。最も重要なのは：
   1. `unknown.*`、マスターマッピングファイルにまだマッチングエントリがない、すなわちまだ知られていないキーが含まれています。
   1. `mismatch.code.*`、既知のキーを含み、コードの現在の状態を表します。
   1. `mismatch.mapping.*`、既知のキーを含み、マスターマッピングの過去の状態を表します。
   1. すべての3つのファイルが無視されていることに注意してください。
1. SmartGitをシャットダウンする
1. 時々、これらのファイルを確認して、圧縮して`smartgit@syntevo.com`に送信します。
   1. メールの件名に「言語マッピング：新しい/変更されたキー」と入力してください。
1. **すべての3つのファイルを削除**して、新しいキーを収集する準備をします。
1. SmartGitを再起動して、新しいキーの収集を続けます。


## レビューを助ける

保留中のプルリクエストと`mapping.dev`内の既存の翻訳には時々改善が必要です。既存の翻訳を改善するレビューコメントや提案を歓迎します！